(this["webpackJsonpjwt-boilerplate"]=this["webpackJsonpjwt-boilerplate"]||[]).push([[0],{162:function(e,t,n){},163:function(e,t,n){},165:function(e,t,n){},172:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(63),c=n.n(a),s=(n(161),n(162),n(10)),o=n(8),i=(n(163),n(9)),l=n(14),j=n(15),d=n(43),h=n(1);function u(e){return Object(h.jsx)("span",{className:"error",children:e.error})}var b=n(205),O=n(206),p=n(197),g=n(207),m=n(204);function x(){var e=localStorage.getItem("token");e&&(JSON.parse(atob(e.split(".")[1])).exp<Date.now()/1e3&&(localStorage.removeItem("token"),e=null));return e}var f={setToken:function(e){e?localStorage.setItem("token",e):localStorage.removeItem("token")},getToken:x,removeToken:function(){localStorage.removeItem("token")},getUserFromToken:function(){var e=x();return e?JSON.parse(atob(e.split(".")[1])).user:null}},v="/api/users/";var w={signup:function(e){return fetch(v+"signup",{method:"POST",body:e}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.err)}))})).then((function(e){var t=e.token;return f.setToken(t)}))},logout:function(){f.removeToken()},login:function(e){return fetch(v+"login",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw console.log(e),new Error(e.err)}))})).then((function(e){var t=e.token;return f.setToken(t)}))},getUser:function(){return f.getUserFromToken()},getProfile:function(e){return fetch(v+e,{headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){if(e.ok)return e.json();throw new Error("Error from getProfile Request, check the server terminal!")}))}};n(165);function y(e,t){return e===t}function k(e){var t=Object(r.useState)({message:"",passwordError:!1}),n=Object(s.a)(t,2),a=n[0],c=n[1],x=Object(r.useState)({username:"",email:"",password:"",passwordConf:"",bio:""}),f=Object(s.a)(x,2),v=f[0],k=f[1],S=Object(r.useState)(""),C=Object(s.a)(S,2),U=C[0],L=C[1],P=Object(o.m)();function T(e){k(Object(d.a)(Object(d.a)({},v),{},Object(j.a)({},e.target.name,e.target.value)))}function z(){return(z=Object(l.a)(Object(i.a)().mark((function t(n){var r,a;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),y(v.password,v.passwordConf)){t.next=3;break}return t.abrupt("return",c({message:"Passwords Must Match!",passwordError:!0}));case 3:for(a in c({message:"",passwordError:!1}),(r=new FormData).append("photo",U),v)r.append(a,v[a]);return t.prev=7,t.next=10,w.signup(r);case 10:e.handleSignUpOrLogin(),P("/"),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),c({message:t.t0.message,passwordError:!1});case 17:case"end":return t.stop()}}),t,null,[[7,14]])})))).apply(this,arguments)}return Object(h.jsx)(b.a,{className:"signup-hero-image",textAlign:"center",style:{height:"100vh",width:"100vw"},verticalAlign:"middle",children:Object(h.jsxs)(b.a.Column,{style:{maxWidth:450},children:[Object(h.jsx)(O.a,{className:"signup-Header-Title",as:"h1",color:"orange",textAlign:"center",children:"Sign Up"}),Object(h.jsxs)(p.a,{onSubmit:function(e){return z.apply(this,arguments)},children:[Object(h.jsxs)(g.a,{stacked:!0,children:[Object(h.jsx)(p.a.Input,{name:"username",placeholder:"username",value:v.username,onChange:T,required:!0}),Object(h.jsx)(p.a.Input,{type:"email",name:"email",placeholder:"email",value:v.email,onChange:T,required:!0}),Object(h.jsx)(p.a.Input,{error:a.passwordError,name:"password",type:"password",placeholder:"password",value:v.password,onChange:T,required:!0}),Object(h.jsx)(p.a.Input,{error:a.passwordError,name:"passwordConf",type:"password",placeholder:"Confirm Password",value:v.passwordConf,onChange:T,required:!0}),Object(h.jsx)(p.a.TextArea,{label:"bio",name:"bio",placeholder:"Bio",value:v.bio,onChange:T}),Object(h.jsx)(p.a.Field,{children:Object(h.jsx)(p.a.Input,{type:"file",name:"photo",placeholder:"upload image",onChange:function(e){L(e.target.files[0])}})}),Object(h.jsx)(m.a,{type:"submit",className:"btn",children:"Signup"})]}),a.message?Object(h.jsx)(u,{error:a.message}):null]})]})})}n(172);var S=n(16),C=n(203);function U(e){var t=Object(r.useState)(""),n=Object(s.a)(t,2),a=n[0],c=n[1],x=Object(r.useState)({email:"",password:""}),f=Object(s.a)(x,2),v=f[0],y=f[1],k=Object(o.m)();function U(e){y(Object(d.a)(Object(d.a)({},v),{},Object(j.a)({},e.target.name,e.target.value)))}function L(){return(L=Object(l.a)(Object(i.a)().mark((function t(n){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,w.login(v);case 4:e.handleSignUpOrLogin(),k("/"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),c(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}return Object(h.jsx)(b.a,{className:"hero-image",textAlign:"center",style:{height:"100vh",width:"100vw"},verticalAlign:"middle",children:Object(h.jsxs)(b.a.Column,{style:{maxWidth:450},children:[Object(h.jsx)(O.a,{className:"Header-Title",as:"h2",color:"orange",textAlign:"center",children:"Welcome Back"}),Object(h.jsx)(p.a,{onSubmit:function(e){return L.apply(this,arguments)},children:Object(h.jsxs)(g.a,{stacked:!0,children:[Object(h.jsx)(p.a.Input,{type:"email",name:"email",placeholder:"email",value:v.email,onChange:U,required:!0}),Object(h.jsx)(p.a.Input,{name:"password",type:"password",placeholder:"password",value:v.password,onChange:U,required:!0}),Object(h.jsx)(m.a,{color:"black",fluid:!0,size:"large",type:"submit",className:"btn",children:"Login"})]})}),Object(h.jsxs)(C.a,{children:["Want to Join Good Company? ",Object(h.jsx)(S.b,{to:"/signup",children:"Sign Up"})]}),a?Object(h.jsx)(u,{error:a}):null]})})}var L=n(40),P=n(41),T=n(56),z=n(58),A=n(143),E=n(193),I=n(194),B=n(199);n(177);function F(){return Object(h.jsx)("div",{children:Object(h.jsx)(g.a,{vertical:!0,style:{margin:"5em 0em 0em",padding:"5em 0em"},children:Object(h.jsxs)(E.a,{textAlign:"center",children:[Object(h.jsx)(b.a,{divided:!0,stackable:!0,children:Object(h.jsxs)(b.a.Column,{width:20,children:[Object(h.jsx)(O.a,{as:"h4",content:"TheGoodEatsCompany 2022"}),Object(h.jsx)("p",{children:"Who doesn't Love Good Eats and Good Company?"})]})}),Object(h.jsx)(I.a,{section:!0}),Object(h.jsxs)(B.a,{horizontal:!0,divided:!0,link:!0,size:"small",children:[Object(h.jsx)(B.a.Item,{as:"a",href:"#",children:"Site Map"}),Object(h.jsx)(B.a.Item,{as:"a",href:"#",children:"Contact Us"}),Object(h.jsx)(B.a.Item,{as:"a",href:"#",children:"Terms and Conditions"}),Object(h.jsx)(B.a.Item,{as:"a",href:"#",children:"Privacy Policy"})]})]})})})}var R=n(59),N=n(195),H=n(198),W=n(201),q=n(144),D=Object(A.createMedia)({breakpoints:{mobile:0,tablet:768,computer:1024}}),G=D.MediaContextProvider,M=D.Media,J=function(e){var t=e.mobile;return Object(h.jsxs)(E.a,{text:!0,children:[Object(h.jsx)(O.a,{as:"h1",content:"The Good Eats Company",inverted:!0,style:{fontSize:t?"2em":"4em",fontWeight:"normal",marginBottom:0,marginTop:t?"1.5em":"3em"}}),Object(h.jsx)(O.a,{as:"h2",content:"Laughter Is Brightest In The Place Where Food Is!",inverted:!0,style:{fontSize:t?"1.5em":"1.7em",fontWeight:"normal",marginTop:t?"0.5em":"1.5em"}}),Object(h.jsx)(S.b,{to:"/signup",children:Object(h.jsxs)(m.a,{primary:!0,size:"huge",children:["Get Started",Object(h.jsx)(R.a,{name:"right arrow"})]})})]})},_=function(e){Object(T.a)(n,e);var t=Object(z.a)(n);function n(){var e;Object(L.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={},e.hideFixedMenu=function(){return e.setState({fixed:!1})},e.showFixedMenu=function(){return e.setState({fixed:!0})},e}return Object(P.a)(n,[{key:"render",value:function(){var e=this.props.children,t=this.state.fixed;return Object(h.jsxs)(M,{greaterThan:"mobile",children:[Object(h.jsx)(N.a,{once:!1,onBottomPassed:this.showFixedMenu,onBottomPassedReverse:this.hideFixedMenu,children:Object(h.jsxs)(g.a,{inverted:!0,textAlign:"center",style:{minHeight:700,padding:"1em 0em"},vertical:!0,children:[Object(h.jsx)(H.a,{fixed:t?"top":null,inverted:!t,pointing:!t,secondary:!t,size:"large",children:Object(h.jsxs)(E.a,{children:[Object(h.jsx)(H.a.Item,{children:Object(h.jsx)(S.b,{to:"/",children:Object(h.jsx)(m.a,{inverted:!t,children:"Home"})})}),Object(h.jsxs)(H.a.Item,{position:"right",children:[Object(h.jsx)(S.b,{to:"/login",children:Object(h.jsx)(m.a,{inverted:!t,children:"Log in"})}),Object(h.jsx)(S.b,{to:"/signup",children:Object(h.jsx)(m.a,{inverted:!t,primary:t,style:{marginLeft:"0.5em"},children:"Sign Up"})})]})]})}),Object(h.jsx)(J,{})]})}),e]})}}]),n}(r.Component),Y=function(e){Object(T.a)(n,e);var t=Object(z.a)(n);function n(){var e;Object(L.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={},e.handleSidebarHide=function(){return e.setState({sidebarOpened:!1})},e.handleToggle=function(){return e.setState({sidebarOpened:!0})},e}return Object(P.a)(n,[{key:"render",value:function(){var e=this.props.children,t=this.state.sidebarOpened;return Object(h.jsx)(M,{as:W.a.Pushable,at:"mobile",children:Object(h.jsxs)(W.a.Pushable,{children:[Object(h.jsxs)(W.a,{as:H.a,animation:"overlay",inverted:!0,onHide:this.handleSidebarHide,vertical:!0,visible:t,children:[Object(h.jsx)(H.a.Item,{as:"a",active:!0,children:"Home"}),Object(h.jsx)(H.a.Item,{as:"a",children:"Log in"}),Object(h.jsx)(H.a.Item,{as:"a",children:"Sign Up"})]}),Object(h.jsxs)(W.a.Pusher,{dimmed:t,children:[Object(h.jsxs)(g.a,{inverted:!0,textAlign:"center",style:{minHeight:350,padding:"1em 0em"},vertical:!0,children:[Object(h.jsx)(E.a,{children:Object(h.jsxs)(H.a,{inverted:!0,pointing:!0,secondary:!0,size:"large",children:[Object(h.jsx)(H.a.Item,{onClick:this.handleToggle,children:Object(h.jsx)(R.a,{name:"sidebar"})}),Object(h.jsxs)(H.a.Item,{position:"right",children:[Object(h.jsx)(m.a,{as:"a",inverted:!0,children:"Log in"}),Object(h.jsx)(m.a,{as:"a",inverted:!0,style:{marginLeft:"0.5em"},children:"Sign Up"})]})]})}),Object(h.jsx)(J,{mobile:!0})]}),e]})]})})}}]),n}(r.Component),K=function(e){var t=e.children;return Object(h.jsxs)(G,{children:[Object(h.jsx)(_,{children:t}),Object(h.jsx)(Y,{children:t})]})},V=function(){return Object(h.jsxs)(K,{children:[Object(h.jsx)(g.a,{style:{padding:"8em 0em"},vertical:!0,children:Object(h.jsxs)(b.a,{container:!0,stackable:!0,verticalAlign:"middle",children:[Object(h.jsxs)(b.a.Row,{children:[Object(h.jsxs)(b.a.Column,{width:8,children:[Object(h.jsx)(O.a,{as:"h3",style:{fontSize:"2em"},children:"We Help People Come Together"}),Object(h.jsx)("p",{style:{fontSize:"1.33em"},children:"theGoodEatsCo. is a social media tool built for food lovers. Here, you can effortlessly share your favorite dishes from all over the world!"}),Object(h.jsx)(O.a,{as:"h3",style:{fontSize:"2em"},children:"Don't Know What Cravings You Have?"}),Object(h.jsx)("p",{style:{fontSize:"1.33em"},children:"The people here can give you a few ideas..."})]}),Object(h.jsx)(b.a.Column,{floated:"right",width:6,children:Object(h.jsx)(q.a,{bordered:!0,rounded:!0,size:"large",src:"https://i.imgur.com/d8wczR5.jpg"})})]}),Object(h.jsx)(b.a.Row,{children:Object(h.jsx)(b.a.Column,{textAlign:"center",children:Object(h.jsx)(S.b,{to:"/login",children:Object(h.jsx)(m.a,{size:"huge",children:"Check Them Out"})})})})]})}),Object(h.jsx)(g.a,{style:{padding:"0em"},vertical:!0,children:Object(h.jsx)(b.a,{celled:"internally",columns:"equal",stackable:!0,children:Object(h.jsxs)(b.a.Row,{textAlign:"center",children:[Object(h.jsxs)(b.a.Column,{style:{paddingBottom:"5em",paddingTop:"5em"},children:[Object(h.jsx)(O.a,{as:"h3",style:{fontSize:"2em"},children:"\"Don't get on here if you're hungry!\""}),Object(h.jsx)("p",{style:{fontSize:"1.33em"},children:Object(h.jsx)("h3",{children:"-foodie"})})]}),Object(h.jsxs)(b.a.Column,{style:{paddingBottom:"5em",paddingTop:"5em"},children:[Object(h.jsx)(O.a,{as:"h3",style:{fontSize:"2em"},children:'"Unpopular Opinion: Pineapple DOES go on Pizza!"'}),Object(h.jsxs)("p",{style:{fontSize:"1.33em"},children:[Object(h.jsx)("b",{children:"Tyler"}),": international Food Blooger"]})]})]})})}),Object(h.jsx)(g.a,{style:{padding:"3em"},vertical:!0,children:Object(h.jsx)(b.a.Column,{children:Object(h.jsxs)(q.a.Group,{children:[Object(h.jsx)(q.a,{bordered:!0,rounded:!0,size:"large",src:"https://i.imgur.com/quwUJ0B.jpg"}),Object(h.jsx)(q.a,{bordered:!0,rounded:!0,size:"large",src:"https://i.imgur.com/Qd2LppU.jpg"}),Object(h.jsx)(q.a,{bordered:!0,rounded:!0,size:"large",src:"https://i.imgur.com/vw1auCK.jpg"}),Object(h.jsx)(q.a,{bordered:!0,rounded:!0,size:"large",src:"https://i.imgur.com/zOXVG0Y.jpg"}),Object(h.jsx)(q.a,{bordered:!0,rounded:!0,size:"large",src:"https://i.imgur.com/Opi0Vo6.jpg"})]})})}),Object(h.jsx)(g.a,{vertical:!0,style:{padding:"0em"},children:Object(h.jsx)(F,{})})]})};var Q=function(e){var t=e.user;return Object(h.jsx)(b.a,{textAlign:"center",columns:1,children:Object(h.jsxs)(b.a.Row,{children:[Object(h.jsx)(b.a.Column,{children:Object(h.jsx)(q.a,{src:"".concat(t.photoUrl?t.photoUrl:"https://react.semantic-ui.com/images/wireframe/square-image.png"," "),avatar:!0,size:"small"})}),Object(h.jsxs)(b.a.Column,{textAlign:"center",style:{maxWidth:800},children:[Object(h.jsx)(g.a,{vertical:!0,children:Object(h.jsx)("h3",{children:t.username})}),Object(h.jsx)(g.a,{children:Object(h.jsxs)("span",{children:[" Bio: ",t.bio]})})]})]})})},X=n(200),$=n(202),Z="/api/posts";function ee(e){return fetch(Z,{method:"POST",body:e,headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.err)}))}))}function te(){return fetch(Z,{headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.err)}))}))}function ne(e){return fetch("/api/posts/"+e,{method:"DELETE",headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.err)}))}))}var re=function(e){var t=e.post,n=e.isProfile,r=e.addLike,a=e.removeLike,c=e.loggedUser,s=e.getPosts,j=Object(o.m)();function d(){return(d=Object(l.a)(Object(i.a)().mark((function e(n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne(t._id);case 3:s(),j("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0,"this is the error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var u=t.likes.findIndex((function(e){return e.username===(null===c||void 0===c?void 0:c.username)})),b=u>-1?"red":"grey",O=u>-1?function(){return a(t.likes[u]._id)}:function(){return r(t._id)};return Object(h.jsxs)(X.a,{raised:!0,children:[n?"":Object(h.jsx)(X.a.Content,{textAlign:"left",children:Object(h.jsx)(X.a.Header,{children:Object(h.jsxs)(S.b,{to:"/".concat(t.user.username),children:[Object(h.jsx)(q.a,{size:"large",avatar:!0,src:t.user.photoUrl?t.user.photoUrl:"https://react.semantic-ui.com/images/wireframe/square-image.png"}),t.user.username]})})}),Object(h.jsx)(q.a,{src:"".concat(null===t||void 0===t?void 0:t.photoUrl),wrapped:!0,ui:!1}),Object(h.jsx)(X.a.Content,{children:Object(h.jsxs)(X.a.Description,{textAlign:"center",children:[t.title,Object(h.jsx)("br",{}),t.content]})}),c?Object(h.jsx)(X.a.Content,{children:t.user.username===(null===c||void 0===c?void 0:c.username)?Object(h.jsx)(S.b,{to:"#",children:Object(h.jsx)(R.a,{name:"delete",color:"red",onClick:function(e){return d.apply(this,arguments)}})}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(S.b,{to:"#",children:Object(h.jsx)(R.a,{name:"thumbs up",size:"large",color:b,onClick:O})}),t.likes.length]})}):null]},t._id)},ae=n(196);function ce(){return Object(h.jsx)(ae.a,{size:"small",active:!0,children:"Loading"})}function se(e){var t=e.posts,n=e.isProfile,r=e.addLike,a=e.removeLike,c=e.loading,s=e.loggedUser,o=e.removePost,i=e.getPosts;return t.sort((function(e,t){return e.createdAt>t.createdAt?-1:t.createdAt>e.createdAt?1:0})),Object(h.jsxs)(X.a.Group,{itemsPerRow:1,stackable:!0,children:[c?Object(h.jsxs)(g.a,{children:[Object(h.jsx)($.a,{active:!0,inverted:!0,children:Object(h.jsx)(ce,{size:"small",children:"Loading"})}),Object(h.jsx)(q.a,{src:"https://react.semantic-ui.com/images/wireframe/short-paragraph.png"})]}):null,t.map((function(e){return Object(h.jsx)(re,{post:e,isProfile:n,loggedUser:s,removeLike:a,addLike:r,removePost:o,getPosts:i},e._id)}))]})}n(178);function oe(e){var t=e.loggedUser,n=e.handleLogout;return console.log(t,"loggedUser in header"),t?Object(h.jsxs)(g.a,{clearing:!0,children:[Object(h.jsxs)(O.a,{as:"h2",floated:"right",children:[Object(h.jsx)(S.b,{to:"/write",children:Object(h.jsx)(R.a,{name:"edit",color:"orange",avatar:!0})}),Object(h.jsx)(S.b,{to:"/",children:Object(h.jsx)(R.a,{name:"home",color:"orange"})}),Object(h.jsx)(S.b,{to:"",onClick:n,children:Object(h.jsx)(R.a,{name:"sign out",color:"orange"})})]}),Object(h.jsxs)(O.a,{as:"h2",floated:"left",children:[Object(h.jsx)(S.b,{to:"/".concat(null===t||void 0===t?void 0:t.username),children:Object(h.jsx)(q.a,{src:null!==t&&void 0!==t&&t.photoUrl?null===t||void 0===t?void 0:t.photoUrl:"https://react.semantic-ui.com/images/wireframe/square-image.png",avatar:!0})}),"TheGoodEatsCo."]})]}):Object(h.jsxs)(g.a,{clearing:!0,children:[Object(h.jsx)(O.a,{as:"h1",floated:"left",children:Object(h.jsx)(q.a,{src:"https://i.imgur.com/x7pzPhG.png",size:"small"})}),Object(h.jsxs)(O.a,{className:"Header-Nav",as:"h1",floated:"right",children:[Object(h.jsx)(S.b,{to:"/",children:Object(h.jsx)(R.a,{name:"home",color:"orange"})}),Object(h.jsx)(S.b,{to:"/about",color:"orange",children:"About"})," ","/",Object(h.jsxs)(S.b,{to:"/login",children:[Object(h.jsx)(R.a,{name:"sign-in",color:"orange"}),"Login"]})," ","/",Object(h.jsxs)(S.b,{to:"/signup",children:[Object(h.jsx)(R.a,{name:"signup",color:"orange"}),"Sign Up"]})]})]})}function ie(e){var t=e.loggedUser,n=e.handleLogout,a=Object(r.useState)([]),c=Object(s.a)(a,2),j=c[0],d=c[1],O=Object(r.useState)({}),p=Object(s.a)(O,2),g=p[0],m=p[1],x=Object(r.useState)(!0),f=Object(s.a)(x,2),v=f[0],y=f[1],k=Object(r.useState)(""),S=Object(s.a)(k,2),C=S[0],U=S[1],L=Object(o.o)().username;function P(){return(P=Object(l.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{ne(t),T(),y(!1)}catch(n){console.log("err","This is the error"),U(n),y(!1)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=Object(r.useCallback)(Object(l.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.getProfile(L);case 3:t=e.sent,y(!1),m(t.data.user),d(t.data.posts),console.log(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),U("Profile does not exist! You are in the wrong in place");case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),[L]);return Object(r.useEffect)((function(){console.log("firing!"),T()}),[L,T]),C?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(oe,{handleLogout:n,loggedUser:t}),Object(h.jsx)(u,{error:C}),";"]}):v?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(oe,{handleLogout:n,loggedUser:t}),Object(h.jsx)(ce,{})]}):Object(h.jsxs)(b.a,{children:[Object(h.jsx)(b.a.Row,{children:Object(h.jsx)(b.a.Column,{children:Object(h.jsx)(oe,{handleLogout:n,loggedUser:t})})}),Object(h.jsx)(b.a.Row,{children:Object(h.jsx)(b.a.Column,{children:Object(h.jsx)(Q,{user:g})})}),Object(h.jsx)(b.a.Row,{centered:!0,children:Object(h.jsxs)(b.a.Column,{style:{maxWidth:800},children:[Object(h.jsx)("p",{children:Object(h.jsx)("h1",{children:"Recent Posts"})}),Object(h.jsx)(se,{posts:j,numPhotosCol:2,isProfile:!0,loading:v,loggedUser:t,removePost:function(e){return P.apply(this,arguments)}})]})})]})}var le=n(27),je="/api/";function de(e){return fetch("".concat(je,"posts/").concat(e,"/likes"),{method:"POST",headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){if(e.ok)return e.json();throw new Error(e.error)}))}function he(e){return fetch("".concat(je,"likes/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){if(e.ok)return e.json();throw new Error(e.error)}))}function ue(e){var t=e.loggedUser,n=e.handleLogout,a=Object(r.useState)([]),c=Object(s.a)(a,2),o=c[0],j=c[1],d=Object(r.useState)(!0),O=Object(s.a)(d,2),p=O[0],g=O[1],m=Object(r.useState)(""),x=Object(s.a)(m,2),f=x[0],v=x[1];function w(){return(w=Object(l.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de(t);case 3:e.sent,k(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v("error adding like");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function y(){return(y=Object(l.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he(t);case 3:e.sent,k(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v("error removing like");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function k(){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te();case 3:t=e.sent,j(Object(le.a)(t.data)),g(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){k()}),[]),f?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(oe,{handleLogout:n,loggedUser:t}),Object(h.jsx)(u,{error:f}),";",Object(h.jsx)(F,{})]}):p?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(oe,{handleLogout:n,loggedUser:t}),Object(h.jsx)(ce,{}),Object(h.jsx)(F,{})]}):Object(h.jsxs)(b.a,{centered:!0,children:[Object(h.jsx)(b.a.Row,{children:Object(h.jsx)(b.a.Column,{children:Object(h.jsx)(oe,{handleLogout:n,loggedUser:t})})}),Object(h.jsx)(b.a.Row,{children:Object(h.jsx)(b.a.Column,{style:{maxWidth:800},children:Object(h.jsx)(se,{posts:o,numPhotosCol:1,isProfile:!1,removeLike:function(e){return y.apply(this,arguments)},addLike:function(e){return w.apply(this,arguments)},loading:p,loggedUser:t,getPosts:k})})})]})}var be=n(192);function Oe(e){var t=Object(r.useState)({title:"",content:""}),n=Object(s.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(""),l=Object(s.a)(i,2),u=l[0],b=l[1],O=Object(o.m)();function g(e){c(Object(d.a)(Object(d.a)({},a),{},Object(j.a)({},e.target.name,e.target.value)))}return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(p.a,{onSubmit:function(t){t.preventDefault();var n=new FormData;n.append("photo",u),n.append("title",a.title),n.append("content",a.content),e.handleAddPost(n),O("/")},children:[Object(h.jsx)(p.a.Input,{className:"form-control",name:"title",value:a.title,placeholder:"Title",onChange:g,required:!0}),Object(h.jsx)(p.a.Input,{children:Object(h.jsx)(be.a,{className:"form-control",name:"content",value:a.content,placeholder:"Content Here",onChange:g,required:!0})}),Object(h.jsx)(p.a.Input,{type:"file",name:"photo",placeholder:"upload image",onChange:function(e){console.log(e.target.files," < - this is e.target.files!"),b(e.target.files[0])}}),Object(h.jsx)(m.a,{type:"submit",className:"btn",align:"center",children:"Add Post"})]})})}n(179);function pe(e){var t=e.loggedUser,n=e.handleLogout,a=Object(r.useState)([]),c=Object(s.a)(a,2),o=c[0],j=c[1],d=Object(r.useState)(""),u=Object(s.a)(d,2),O=u[0],p=u[1];function g(){return(g=Object(l.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee(t);case 3:n=e.sent,console.log(n),j([n.data].concat(Object(le.a)(o))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),p("Error creating post, please try again");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(oe,{handleLogout:n,loggedUser:t}),Object(h.jsx)(b.a,{className:"write-hero-image",textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(h.jsxs)(b.a.Column,{style:{width:"450px"},children:[Object(h.jsx)(b.a.Row,{children:Object(h.jsx)(b.a.Column,{children:" "})}),Object(h.jsx)(b.a.Row,{className:"header-clearance",children:Object(h.jsx)(b.a.Column,{textAlign:"center",children:Object(h.jsx)("p",{children:Object(h.jsx)("h1",{children:"POST YOUR MEAL"})})})}),Object(h.jsx)(b.a.Row,{children:Object(h.jsxs)(b.a.Column,{children:[Object(h.jsx)(Oe,{handleAddPost:function(e){return g.apply(this,arguments)}}),Object(h.jsx)("p",{children:O})]})})]})})]})}var ge=function(){var e=Object(r.useState)(w.getUser()),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(o.m)();function i(){a(w.getUser())}function l(){w.logout(),a(null),c("/")}return n?Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{path:"/",element:Object(h.jsx)(ue,{loggedUser:n,handleLogout:l})}),Object(h.jsx)(o.b,{path:"/login",element:Object(h.jsx)(U,{handleSignUpOrLogin:i})}),Object(h.jsx)(o.b,{path:"/signup",element:Object(h.jsx)(k,{handleSignUpOrLogin:i})}),Object(h.jsx)(o.b,{path:"/:username",element:Object(h.jsx)(ie,{loggedUser:n,handleLogout:l})}),Object(h.jsx)(o.b,{path:"/write",element:Object(h.jsx)(pe,{loggedUser:n,handleLogout:l})})]}):Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{path:"/",element:Object(h.jsx)(V,{})}),Object(h.jsx)(o.b,{path:"/login",element:Object(h.jsx)(U,{handleSignUpOrLogin:i})}),Object(h.jsx)(o.b,{path:"/signup",element:Object(h.jsx)(k,{handleSignUpOrLogin:i})}),Object(h.jsx)(o.b,{path:"/",element:Object(h.jsx)(ue,{handleLogout:l})}),Object(h.jsx)(o.b,{path:"/*",element:Object(h.jsx)(o.a,{to:"/login"})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(h.jsx)(S.a,{children:Object(h.jsx)(ge,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[180,1,2]]]);
//# sourceMappingURL=main.60a1fe6a.chunk.js.map